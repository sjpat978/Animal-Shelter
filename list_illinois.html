<!DOCTYPE HTML>
<html>

<head>
    <title>Animal Shelter Site</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <script src="https://kit.fontawesome.com/083cad359a.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="assets\css\main.css" />
</head>



<body>
    <section id="header" class="wrapper" style="height: 10em;">

        <!-- Nav -->
        <nav id="nav">
            <ul>
                <li class="current"><a href="index.html">Home</a></li>
                <li>
                    <a href="#">Customers</a>
                    <ul>
                        <li><a href="login.html">Log in!</a></li>
                        <li><a href="register.html">Register</a></li>
                    </ul>
                </li>
                <li>
                    <a href="#">Staff</a>
                    <ul>
                        <li><a href="login_staff.html">Log in!</a></li>
                        <li><a href="register_staff.html">Register!</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

    </section>
    <section class="wrapper" style="padding: 2em 0 2em 0; margin: 0 0 1em 0;">

        <h1 class="database-location">Location: Chicago Shelter</h1>
    </section>

    <section class="wrapper" style="padding: 2em 0 2em 0;">
        <div class="data-rect">
            <table>
                <thead>
                    <tr>

                        <td>Name</td>
                        <td>Gender</td>
                        <td>Age</td>
                        <td>Breed</td>
                        <td>Weight</td>
                        <td>Medications Needed</td>
                        <td>Type</td>
                    </tr>
                </thead>

                <tbody id="database-data">
                    <tr>
                        <td>{item.Name}</td>
                        <td>{item.Gender}</td>
                        <td>{item.Age}</td>
                        <td>{item.Breed}</td>
                        <td>{item.Weight}</td>
                        <td>{item.Medications}</td>
                        <td>{item.Type}</td>
                    </tr>
                </tbody>
            </table>
            <!--<a class="database-addbtn" id="database-addbtn"><i class="fas fa-plus-circle"></i></a>
            <a class="database-removebtn" id="database-removebtn"><i class="fas fa-minus-circle"></i></a>
            <a class="database-addAnimalbtn" id="addAnimalbtn">
                <p>Add Animal</p>
            </a>
            <a class="database-cancelbtn" id="database-cancelbtn">
                <p>Cancel</p>
            </a>-->
        </div>
    </section>
    <script>
        let sortDirection = false;

        let animalData = [{
                animalType: 'Dog',
                name: 'Sparky',
                age: 4,
                ID: 19234,
                breed: 'saint bernard',
                medicationsNeed: 'none',
                taken: 'not applicable'
            },
            {
                animalType: 'Dog',
                name: 'Sparky',
                age: 4,
                ID: 19234,
                breed: 'saint bernard',
                medicationsNeed: 'none',
                taken: 'not applicable'
            },
            {
                animalType: 'Dog',
                name: 'Sparky',
                age: 4,
                ID: 19234,
                breed: 'saint bernard',
                medicationsNeed: 'none',
                taken: 'not applicable'
            },
            {
                animalType: 'Dog',
                name: 'Sparky',
                age: 4,
                ID: 19234,
                breed: 'saint bernard',
                medicationsNeed: 'none',
                taken: 'not applicable'
            },
        ]
        class Animal {
            constructor(type, name, age, ID, breed, medNeed) {
                this.animalType = type;
                this.name = name;
                this.age = age;
                this.ID = ID;
                this.breed = breed;
                this.medicationsNeed = medNeed;
            }
        }
        window.onload = () => {
            loadTableData(animalData);
        }

        function loadTableData(data) {
            const tableBody = document.getElementById('database-data');
            let dataHTML = '';
            for (let animal of data) {
                dataHTML += `<tr><td>${animal.animalType}</td>
                        <td>${animal.name}</td> 
                        <td>${animal.age}</td>
                        <td>${animal.ID}</td>
                        <td>${animal.breed}</td>
                        <td>${animal.medicationsNeed}</td>
                        <td>${animal.taken}</td>
                        </tr>`
            }

            //console.log(dataHTML);

            tableBody.innerHTML = dataHTML;
        }

        document.getElementById('database-addbtn').addEventListener('click', () => {
            console.log('add button clicked')
            const tableFoot = document.getElementById('database-footer')
            const addBtns = [document.getElementById('addAnimalbtn'), document.getElementById(
                'database-cancelbtn')]
            tableFoot.style.display = "";
            for (let i = 0; i < addBtns.length; i++) {
                addBtns[i].style.display = "inline-block";
            }
        });
        document.getElementById('database-cancelbtn').addEventListener('click', () => {
            const tableFoot = document.getElementById('database-footer')
            const addBtns = [document.getElementById('addAnimalbtn'), document.getElementById(
                'database-cancelbtn')]
            tableFoot.style.display = "none";
            for (let i = 0; i < addBtns.length; i++) {
                addBtns[i].style.display = "none";
            }
        });

        document.getElementById('addAnimalbtn').addEventListener('click', () => {
            console.log('New Animal Added!')
            let animalType = document.getElementById('animal-type-form').value
            let animalName = document.getElementById('name-form').value
            let animalAge = document.getElementById('age-form').value
            let animalID = document.getElementById('IDnumber-form').value
            let animalBreed = document.getElementById('breed-form').value
            let meds = document.getElementById('medications-form').value
            const newAnimal = new Animal(animalType, animalName, animalAge, animalID, animalBreed, meds)
            loadDataform(newAnimal)
            const tableFoot = document.getElementById('database-footer')
            const addBtns = [document.getElementById('addAnimalbtn'), document.getElementById(
                'database-cancelbtn')]
            tableFoot.style.display = "none";
            for (let i = 0; i < addBtns.length; i++) {
                addBtns[i].style.display = "none";
            }
        });

        function loadDataform(Animal) {
            const tableBody = document.getElementById('database-data');
            let dataHTML = '<tr>';
            for (let property in Animal) {
                dataHTML += `<td>${property}</td>`
            }
            dataHTML += "</tr>"

            console.log(dataHTML)
            tableBody.innerHTML = dataHTML
        }
    </script>
    <script src="assets\js\jquery.min.js"></script>
    <script src="assets\js\jquery.dropotron.min.js"></script>
    <script src="assets\js\browser.min.js"></script>
    <script src="assets\js\breakpoints.min.js"></script>
    <script src="assets\js\util.js"></script>
    <script src="assets\js\main.js"></script>
</body>

</html>